{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "weave-call",
  "_source": "https://docs.wandb.ai/weave/guides/tracking/ops",
  "_description": "Weave Call/Trace structure. Automatically captured when using @weave.op().",
  "_terminology": "Weave 'call' = LangGraph 'step' (see metadata.step in langgraph-checkpoint.jsonc)",

  "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "op_name": "agent_node",
  "display_name": "Agent Node",

  "project_id": "entity/agent-loop",
  "trace_id": "f9e8d7c6-b5a4-3210-fedc-ba0987654321",
  "parent_id": null,

  "started_at": "2026-01-31T12:00:00.000000+00:00",
  "ended_at": "2026-01-31T12:00:02.500000+00:00",
  "exception": null,

  // NOTE: duration, status, and cost are Calculated Fields â€” not stored on the call.
  // See: https://docs.wandb.ai/weave/guides/tracking/tracing#call-schema

  "inputs": {
    "state": {
      "messages": [
        {"type": "human", "content": "What are the latest AI trends?"}
      ],
      "task": "Analyze recent AI trends",
      "response": null,
      "iteration": 1,
      "max_iterations": 5,
      "evaluations": [],
      "rankings": []
    }
  },

  // Output is AgentNodeResult (TypedDict), not full state
  // See: src/agent_loop/graph/nodes.py
  "output": {
    "messages": [
      {"type": "ai", "content": "Based on my analysis...", "id": "msg-002"}
    ],
    "iteration": 2
  },

  "attributes": {
    "env": "development",
    "model": "gpt-5-mini"
  },

  "summary": {
    "usage": {
      "prompt_tokens": 150,
      "completion_tokens": 200,
      "total_tokens": 350
    }
  }
}
